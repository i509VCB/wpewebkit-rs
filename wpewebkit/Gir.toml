external_libraries = [
    "Gio",
    "GLib",
    "GObject",
]

[options]
library = "WPEWebKit"
version = "1.1"
target_path = "."
single_version_file = true
min_cfg_version = "1.1"
work_mode = "normal"
generate_safety_asserts = true
deprecate_by_min_version = true
girs_directories = [
    "../gir-files/",
    "../",
]

generate = [
    # Enums
    "WPEWebKit.AuthenticationScheme",
    "WPEWebKit.AutomationBrowsingContextPresentation",
    "WPEWebKit.AutoplayPolicy",
    "WPEWebKit.CacheModel",
    "WPEWebKit.ContextMenuAction",
    "WPEWebKit.CookieAcceptPolicy",
    "WPEWebKit.CookiePersistentStorage",
    "WPEWebKit.CredentialPersistence",
    "WPEWebKit.InputPurpose",
    "WPEWebKit.InsecureContentEvent",
    "WPEWebKit.LoadEvent",
    "WPEWebKit.MediaCaptureState",
    "WPEWebKit.NavigationType",
    "WPEWebKit.NetworkProxyMode",
    "WPEWebKit.PolicyDecisionType",
    "WPEWebKit.ProcessModel",
    "WPEWebKit.SaveMode",
    "WPEWebKit.ScriptDialogType",
    "WPEWebKit.TLSErrorsPolicy",
    "WPEWebKit.UserContentInjectedFrames",
    "WPEWebKit.UserScriptInjectionTime",
    "WPEWebKit.UserStyleLevel",
    "WPEWebKit.WebProcessTerminationReason",

    # Bitfields
    "WPEWebKit.EditorTypingAttributes",
    "WPEWebKit.FindOptions",
    "WPEWebKit.HitTestResultContext",
    "WPEWebKit.InputHints",
    "WPEWebKit.WebsiteDataTypes",

    # Structures
    "WPEWebKit.ApplicationInfo",
    "WPEWebKit.GeolocationPosition",
    "WPEWebKit.ITPFirstParty",
    "WPEWebKit.ITPThirdParty",
    "WPEWebKit.MimeInfo",
    "WPEWebKit.NetworkProxySettings",
    "WPEWebKit.OptionMenuItem",
    "WPEWebKit.Rectangle",
    "WPEWebKit.SecurityOrigin",
    "WPEWebKit.UserScript",
    "WPEWebKit.UserStyleSheet",
    "WPEWebKit.WebsiteData",
    "WPEWebKit.WebViewSessionState",

    # Classes
    "WPEWebKit.BackForwardList",
    # "WPEWebKit.BackForwardListItem", # InitiallyUnowned
    "WPEWebKit.ContextMenu",
    # "WPEWebKit.ContextMenuItem", # InitiallyUnowned
    "WPEWebKit.CookieManager",
    "WPEWebKit.DeviceInfoPermissionRequest",
    "WPEWebKit.EditorState",
    "WPEWebKit.FaviconDatabase",
    "WPEWebKit.FileChooserRequest",
    "WPEWebKit.GeolocationManager",
    "WPEWebKit.GeolocationPermissionRequest",
    "WPEWebKit.HitTestResult",
    "WPEWebKit.InputMethodContext",
    "WPEWebKit.InstallMissingMediaPluginsPermissionRequest",
    "WPEWebKit.NavigationPolicyDecision",
    "WPEWebKit.Notification",
    "WPEWebKit.NotificationPermissionRequest",
    "WPEWebKit.OptionMenu",
    "WPEWebKit.Plugin",
    "WPEWebKit.PolicyDecision",
    "WPEWebKit.ResponsePolicyDecision",
    "WPEWebKit.SecurityManager",
    "WPEWebKit.URISchemeRequest",
    "WPEWebKit.UserContentManager",
    "WPEWebKit.UserMediaPermissionRequest",
    "WPEWebKit.WebResource",
    "WPEWebKit.WebsiteDataAccessPermissionRequest",

    # Error domains
    "WPEWebKit.DownloadError",
    "WPEWebKit.FaviconDatabaseError",
    "WPEWebKit.JavascriptError",
    "WPEWebKit.NetworkError",
    "WPEWebKit.PluginError",
    "WPEWebKit.PolicyError",
    "WPEWebKit.SnapshotError",
    "WPEWebKit.UserContentFilterError",
    "WPEWebKit.UserMessageError",

    # TODO: Freestanding functions from ffi
]

manual = [
    # Provided by external libraries
    "Gio.Action",
    "Gio.AsyncReadyCallback",
    "Gio.AsyncResult",
    "Gio.Cancellable",
    "Gio.InputStream",
    "GLib.Bytes",
    "GLib.DateTime",
    "GLib.DestroyNotify",
    "GLib.Error",
    "GLib.Quark",
    "GLib.Variant",
    "GObject.InitiallyUnowned",
]

[[object]]
name = "WPEWebKit.Color"
status = "generate"
boxed_inline = true
    [[object.function]]
    name = "parse"
    # This is a constructor
    manual = true

[[object]]
name = "WPEWebKit.InputMethodUnderline"
status = "generate"
    [[object.function]]
    name = "set_color"
        [[object.function.parameter]]
        name = "color"
        const = true

[[object]]
name = "WPEWebKit.ScriptDialog"
status = "generate"
version = "2.24" # Because of webkit_script_dialog_(un)ref

[[object]]
name = "WPEWebKit.WebViewBackend"
status = "generate"
    [[object.function]]
    name = "new"
    ignore = true # manually implemented

    [[object.function]]
    name = "get_wpe_backend"
    ignore = true # not useful in Rust
